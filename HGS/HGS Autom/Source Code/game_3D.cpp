//------------------------------------------------------------------------------
//
//ゲーム処理  [game.cpp]
//Author:Yoshiki Hosoya
//
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
//インクルード
//------------------------------------------------------------------------------
#include "game_3D.h"
#include "manager.h"
#include "renderer.h"
#include "camera.h"
#include "Map.h"
#include "player_3D.h"
#include "fade.h"
#include "Pad_XInput.h"
//------------------------------------------------------------------------------
//静的メンバ変数の初期化
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
//マクロ
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
//コンストラクタ
//------------------------------------------------------------------------------
CGame_3D::CGame_3D()
{
	//初期化
	m_pMap.reset();
}
//------------------------------------------------------------------------------
//デストラクタ
//------------------------------------------------------------------------------
CGame_3D::~CGame_3D()
{
	//開放
	m_pMap.reset();

}

//------------------------------------------------------------------------------
//初期化処理
//------------------------------------------------------------------------------
HRESULT CGame_3D::Init(HWND hWnd)
{
	//カメラ座標設定
	CManager::GetRenderer()->GetCamera()->SetState(CCamera::CAMERA_DEBUG);

	//マップ生成
	m_pMap = CMap::Create();

	//プレイヤー生成 & ポインタ設定
	CGame::SetPlayerPtr(CPlayer_3D::Create(ZeroVector3));

	//初期化
	SetGamestate(CGame_3D::STATE_READY);

	return S_OK;
}

//------------------------------------------------------------------------------
//終了処理
//------------------------------------------------------------------------------
void CGame_3D::Uninit()
{
	//終了処理
	CScene::ReleaseAll();
}

//------------------------------------------------------------------------------
//更新処理
//------------------------------------------------------------------------------
void CGame_3D::Update()
{

}

//------------------------------------------------------------------------------
//描画処理
//------------------------------------------------------------------------------
void CGame_3D::Draw()
{

}
//------------------------------------------------------------------------------
//デバッグ情報表記
//------------------------------------------------------------------------------
void CGame_3D::ShowDebugInfo()
{
#ifdef _DEBUG


#endif //_DEBUG
}

//------------------------------------------------------------------------------
//マップ取得
//------------------------------------------------------------------------------
CMap * CGame_3D::GetMap()
{
	if (m_pMap)
	{
		return m_pMap.get();
	}
	return nullptr;
}

